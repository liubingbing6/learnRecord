<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        span {
            cursor: pointer;
        }
    </style>
    <script type="text/javascript">
        window.onload = function () {
            // 获取元素
            var stars = document.getElementById('stars').getElementsByTagName('span');
            var ret = document.getElementById('ret');
			
        //第一种方法
            //定义getStar函数
        //   function getStar(){
        //       var aSpan = document.getElementsByTagName('span');
        //       var num = '';
        //         for(var i=0;i<aSpan.length;i++){
        //             !(function(i){
        //                 aSpan[i].onclick = function(){
        //                     //var k = this.span - 0;
        //                     for(var k = 0;k<aSpan.length;k++){
        //                         aSpan[k].style.color = ''
        //                     }
        //                     for(var j=0;j<=i;j++){
        //                         aSpan[j].style.color = 'red'
        //                     }
        //                      ret.innerHTML = i+1 + '星';
        //                     return num = i+1;
        //                 }
        //             })(i)
        //         }
        //   }
        //   getStar();
		
		//第二种方法
		// getStar函数接受一个参数n，即选择了几星；
        function getStar(n){
              
            var n = parseInt(n);
           
            for(var i=0,len=stars.length;i<len;i++){
              
                if(i<=n-1){
                    stars[i].style.color = 'red'
                }else{
                    stars[i].style.color = ''
                }
            }
            ret.innerHTML = n+'星'
        }
            
			// 遍历5个星星的节点，如果索引小于等于n-1，改变其color
           for(var i=0,len=stars.length;i<len;i++){
			   // 每个星星节点的点击事
               !(function(i){
                   stars[i].onclick = function(){
                       getStar(this.getAttribute('star'))
                   }
               })(i)
           }
        }
    </script>
</head>
<body>
<div id="stars">
    <span star="1">★</span>
    <span star="2">★</span>
    <span star="3">★</span>
    <span star="4">★</span>
    <span star="5">★</span>
</div>
<div id="ret"></div>
</body>
</html>