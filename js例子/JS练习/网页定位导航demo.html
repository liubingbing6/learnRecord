<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<style>
*{margin:0;padding:0;}
.sideBar{
	position:fixed;
	top:30px;
	right:10px;
	text-align:center;
	}
ul{
	list-style:none;
	border:1px solid #efefef;}
li{
	width:60px;
	height:36px;
	margin-bottom:2px;
	}
li a{
	width:100%;
	height:100%;
	display:block;
	line-height:36px;}
li a:hover,
li a.current{
	background:#36C;
	color:#fff;}

.box{
	width:1200px;
	margin:0px auto;
	}
.box div{
	width:100%;
}
.box div:nth-of-type(1){
	height:450px;
	background:#F30;}
.box div:nth-of-type(2){
	height:550px;
	background:#0CC;}
.box div:nth-of-type(3){
	height:650px;
	background:#0F6;}
.box div:nth-of-type(4){
	height:750px;
	background:#306;}
.box div:nth-of-type(5){
	height:850px;
	background:#F39;}
</style>
</head>

<body>
<div class="sideBar">
	<ul>
    	<li><a href="#item1" class="current">box1</a></li>
        <li><a href="#item2">box2</a></li>
        <li><a href="#item3">box3</a></li>
        <li><a href="#item4">box4</a></li>
        <li><a href="#item5">box5</a></li>
    </ul>
</div>
<div class="box">
	<div id="item1"></div>
    <div id="item2"></div>
    <div id="item3"></div>
    <div id="item4"></div>
    <div id="item5"></div>
</div>
<script>
window.onload = function(){

	function getStyles(obj,attr){
		return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];	
	}
}
</script>
<script>
$(document).ready(function(e) {
    $(window).scroll(function(){
		var top = $(document).scrollTop();
		var items = $('.box').find('div');
		var currentId = '';
		items.each(function(index, element) {
            var me = $(this);
			var itemsTop = me.offset().top;
			if(top >= itemsTop){
				currentId = '#' + me.attr('id');	
			}else{
				return false;	
			}
        }); 
		
		var currentLink = $('.sideBar').find('.current');
		if(currentId && currentLink.attr('href') != currentId){
			currentLink.removeClass('current');
			$('.sideBar').find('[href='+currentId+']').addClass('current');	
		} 
    });
});
</script>
</body>
</html>
