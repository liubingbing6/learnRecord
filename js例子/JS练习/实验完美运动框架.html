<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
#div1{
	width:100px;
	height:150px;
	background-color:#F00;
	position:absolute;
	right:0;
	bottom:0;}
body{
	height: 2000px;
}
</style>

</head>

<body>
<div id="div1"></div>
<script src="js/move.js"></script>
<script type="text/javascript">
	function move(obj,iTag){
		clearInterval(timer);
		timer = setInterval(function(){
			var speed = (iTag - obj.offsetTop)/6;
			speed = speed>0?Math.ceil(speed):Math.floor(speed);
			if(iTag == obj.offsetTop){
				clearInterval(timer);	
			}else{
				obj.style.top = obj.offsetTop + speed + 'px';	
			}
			
		},30);	
	}	
	var timer = null;
	var oDiv=document.getElementById('div1');
	window.onscroll = function () {
		var cliHeight = document.documentElement.clientHeight;
		var scroTop = document.documentElement.scrollTop || document.body.scrollTop;
		var offHeight = oDiv.offsetHeight;
		var iTag = cliHeight - offHeight + scroTop;
		//move(oDiv,iTag);
		startMove(oDiv,{top:iTag});
	}
	
	
</script>
</body>
</html>
